<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>个人主页</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
    <link rel="shortcut icon" href="https://www.17qcc.com/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="layui/css/layui.css" />
    <link rel="stylesheet" href="css/currency_style.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script src="layui/layui.all.js"></script>
</head>

<body>
    <div class="index flexbox">
        <!-- 左边个人信息 -->
        <div class="personal_info_seize">
            <div class="personal_info outer ">
                <div class="top"></div>
                <div class="head_portrait"></div>
                <div class="main_info">
                    <p class="name mt30">高位强</p>
                    <p class="occupation mt10">前端工程师</p>
                    <p class="motto mt30">星光不问赶路人，时光不负有心人</p>
                    <ul class="mt30">
                        <li><img src="images/place.png" alt="地点" /><span>福建&nbsp;泉州</span></li>
                        <li><img src="images/phone.png" alt="电话"><span>156****8059</span></li>
                        <li><img src="images/mailbox.png" alt="邮箱"><span>985313519@qq.com</span></li>
                    </ul>
                </div>

                <p class="chat_icon mt30">
                    <a href="https://github.com/weiqiang2019" target="_blank"><img src="images/github.png" alt="github"></a>
                    <a href="javascript:;" id="qq_icon"><img src="images/qq.png" alt="qq" /></a>
                    <a href="javascript:;" id="wechat_icon"><img src="images/wechat.png" alt="wechat" /></a>
                    <a href="https://weibo.com/u/5832155572" target="_blank"><img src="images/sina.png" alt="sina"></a>
                </p>
            </div>
        </div>
        <!-- 右边个人简介 -->
        <div class="personal_profile">
            <!-- 右边导航 -->
            <div class="menu outer">
                <ul class="flexbox">
                    <li class="selection">教育背景</li>
                    <li>个人技能</li>
                    <li>工作经历</li>
                    <li>个人作品</li>
                </ul>
            </div>
            <div class="detailed_info">
                <div class="edu_bg outer">教育背景待添加
                </div>
                <div class="personal_skills outer">个人技能待添加
                </div>
                <div class="work_experience outer">工作经历待添加
                </div>
                <div class="personal_works outer">个人作品待添加
                </div>
            </div>
        </div>


    </div>
    <!-- QQ微信二维码弹窗 -->
    <div class="qq_qr_code"><img src="images/qq_qr_code.jpg" alt=""></div>
    <div class="wechat_qr_code"><img src="images/wechat_qr_code.jpg" alt=""></div>
    <script>
        // QQ微信二维码弹窗
        $("#qq_icon").on("click", function () {
            layer.open({
                type: 1,
                title: false,
                closeBtn: 0,
                shadeClose: true,
                skin: 'yourclass',
                content: $(".qq_qr_code"),
                end: function () {
                    $(".qq_qr_code").hide();
                },
            });
        });
        $("#wechat_icon").on("click", function () {
            layer.open({
                type: 1,
                title: false,
                closeBtn: 0,
                shadeClose: true,
                skin: 'yourclass',
                content: $(".wechat_qr_code"),
                end: function () {
                    $(".wechat_qr_code").hide();
                },
            });
        });
        //浏览器窗口变化时，重新设置ulSlide
        $(window).resize(function () {
            ulSlide = $(".personal_profile .menu").offset().top;
        });
        //根据屏幕分辨率判断是否为移动端
        function isMobile() {
            var screen_width = $(window).width();
            if (screen_width <= 800) {
                mobile_flag = true;
            } else {
                mobile_flag = false;
            }
            return mobile_flag;
        }
        //教育背景-个人技能-工作经历-个人作品 选项卡点击切换和跳转
        var li = $(".personal_profile .menu ul li");
        li.on("click", function () {
            if ($(window).width() > 800) {
                var index = $(this).index();
                $(this).siblings("li").removeClass("selection");
                $(this).addClass("selection");
                $(".detailed_info").children().hide();
                $(".detailed_info").children().eq(index).show();
            } else {
                var index = $(this).index();
                var y = $(".detailed_info").children().eq(index).offset().top;
                $("html,body").animate({
                    scrollTop: y - 50
                }, 300);
                // console.log(y);
            }
        });
        //移动端下滑一定距离后，让选项卡显示在顶端，并根据index值改变选项卡样式
        var ulSlide = $(".personal_profile .menu").offset().top;
        $(window).scroll(function () {
            var slide = $(window).scrollTop();
            // console.log(slide);
            // console.log(ulSlide);
            if (slide >= ulSlide) {
                $(".personal_profile .menu").addClass("menu_fixed");
                $(".detailed_info").css("margin-top", "50px");
            } else {
                $(".personal_profile .menu").removeClass("menu_fixed");
                $(".detailed_info").css("margin-top", "0px");
            }
            var scro = $(window).scrollTop() - $(window).height() / 1.6;
            var index = rightNavLiChange(scro);
            li.eq(index).siblings("li").removeClass("selection");
            li.eq(index).addClass("selection");
        });
        //根据滑动距离，返回选项卡的index值
        var jybj = $(".detailed_info .edu_bg").offset().top;
        var grjn = $(".detailed_info .personal_skills").offset().top;
        var gzjl = $(".detailed_info .work_experience").offset().top;
        var grzp = $(".detailed_info .personal_works").offset().top;
        function rightNavLiChange(scro) {
            var index;
            if (scro < jybj) {
                index = 0;
            } else if (scro < grjn) {
                index = 1;
            } else if (scro < gzjl) {
                index = 2;
            } else if (scro < grzp) {
                index = 3;
            }
            return index;
        };
    </script>
</body>